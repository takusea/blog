import{V as xe,W as Ae,l as Oe,n as F,g as Te,k as ce,X as M,h as Ie,Y as Pe,Z as Ue,_ as $e,$ as Ce,u as Fe}from"./routing-CoHMnyGh.js";const _e="Location",Le=5e3,je=18e4;let Y=new Map;setInterval(()=>{const e=Date.now();for(let[r,n]of Y.entries())!n[4].count&&e-n[0]>je&&Y.delete(r)},3e5);function O(){return Y}function I(e,r){e.GET&&(e=e.GET);const n=(...a)=>{const s=O(),i=Te(),o=Ue(),u=Ie()?xe():void 0,p=Date.now(),d=r+re(a);let c=s.get(d),B;if(Ae()&&!Pe&&(B=!0,Oe(()=>c[4].count--)),c&&c[0]&&(i==="native"||c[4].count||Date.now()-c[0]<Le)){B&&(c[4].count++,c[4][0]()),c[3]==="preload"&&i!=="preload"&&(c[0]=p);let z=c[1];return i!=="preload"&&(z="then"in c[1]?c[1].then(E(!1),E(!0)):E(!1)(c[1]),i==="navigate"&&M(()=>c[4][1](c[0]))),o&&"then"in z&&z.catch(()=>{}),z}let w;return F.has&&F.has(d)?(w=F.load(d),delete globalThis._$HY.r[d]):w=e(...a),c?(c[0]=p,c[1]=w,c[3]=i,i==="navigate"&&M(()=>c[4][1](c[0]))):(s.set(d,c=[p,w,,i,ce(p)]),c[4].count=0),B&&(c[4].count++,c[4][0]()),i!=="preload"&&(w="then"in w?w.then(E(!1),E(!0)):E(!1)(w)),o&&"then"in w&&w.catch(()=>{}),w;function E(z){return async b=>{if(b instanceof Response){const P=b.headers.get(_e);if(P!==null){u&&P.startsWith("/")?M(()=>{u(P,{replace:!0})}):window.location.href=P;return}b.customBody&&(b=await b.customBody())}if(z)throw b;return c[2]=b,b}}};return n.keyFor=(...a)=>r+re(a),n.key=r,n}I.get=e=>O().get(e)[2];I.set=(e,r)=>{const n=O(),a=Date.now();let s=n.get(e);s?(s[0]=a,s[1]=Promise.resolve(r),s[2]=r,s[3]="preload"):(n.set(e,s=[a,Promise.resolve(r),r,"preload",ce(a)]),s[4].count=0)};I.delete=e=>O().delete(e);I.clear=()=>O().clear();function re(e){return JSON.stringify(e,(r,n)=>De(n)?Object.keys(n).sort().reduce((a,s)=>(a[s]=n[s],a),{}):n)}function De(e){let r;return e!=null&&typeof e=="object"&&(!(r=Object.getPrototypeOf(e))||r===Object.prototype)}function Gt(e,r){let n,a=()=>!n||n.state==="unresolved"?void 0:n.latest;[n]=$e(()=>Ne(e,Ce(()=>Fe(a),()=>{})),i=>i);const s=()=>n();return Object.defineProperty(s,"latest",{get(){return n.latest}}),s}class h{static all(){return new h}static allSettled(){return new h}static any(){return new h}static race(){return new h}static reject(){return new h}static resolve(){return new h}catch(){return new h}then(){return new h}finally(){return new h}}function Ne(e,r){if(!F.context)return e(r);const n=fetch,a=Promise;try{return window.fetch=()=>new h,Promise=h,e(r)}finally{window.fetch=n,Promise=a}}var ke=(e=>(e[e.AggregateError=1]="AggregateError",e[e.ArrowFunction=2]="ArrowFunction",e[e.ErrorPrototypeStack=4]="ErrorPrototypeStack",e[e.ObjectAssign=8]="ObjectAssign",e[e.BigIntTypedArray=16]="BigIntTypedArray",e[e.RegExp=32]="RegExp",e))(ke||{}),S=Symbol.asyncIterator,Be=Symbol.hasInstance,_=Symbol.isConcatSpreadable,R=Symbol.iterator,Me=Symbol.match,qe=Symbol.matchAll,Ve=Symbol.replace,He=Symbol.search,Xe=Symbol.species,Ge=Symbol.split,Ye=Symbol.toPrimitive,L=Symbol.toStringTag,We=Symbol.unscopables,le={[S]:0,[Be]:1,[_]:2,[R]:3,[Me]:4,[qe]:5,[Ve]:6,[He]:7,[Xe]:8,[Ge]:9,[Ye]:10,[L]:11,[We]:12},t=void 0,Je={0:"Error",1:"EvalError",2:"RangeError",3:"ReferenceError",4:"SyntaxError",5:"TypeError",6:"URIError"};function l(e,r,n,a,s,i,o,f,u,p,d,c){return{t:e,i:r,s:n,c:a,m:s,p:i,e:o,a:f,f:u,b:p,o:d,l:c}}function g(e){return l(2,t,e,t,t,t,t,t,t,t,t,t)}var fe=g(2),pe=g(3),Ke=g(1),Ze=g(0),Qe=g(4),er=g(5),rr=g(6),tr=g(7);function nr(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"\b":return"\\b";case"	":return"\\t";case"\f":return"\\f";case"<":return"\\x3C";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return t}}function m(e){let r="",n=0,a;for(let s=0,i=e.length;s<i;s++)a=nr(e[s]),a&&(r+=e.slice(n,s)+a,n=s+1);return n===0?r=e:r+=e.slice(n),r}var U="__SEROVAL_REFS__",de=new Map,$=new Map;function ye(e){return de.has(e)}function ar(e){if(ye(e))return de.get(e);throw new $r(e)}typeof globalThis<"u"?Object.defineProperty(globalThis,U,{value:$,configurable:!0,writable:!1,enumerable:!1}):typeof window<"u"?Object.defineProperty(window,U,{value:$,configurable:!0,writable:!1,enumerable:!1}):typeof self<"u"?Object.defineProperty(self,U,{value:$,configurable:!0,writable:!1,enumerable:!1}):typeof global<"u"&&Object.defineProperty(global,U,{value:$,configurable:!0,writable:!1,enumerable:!1});function W(e){return e instanceof EvalError?1:e instanceof RangeError?2:e instanceof ReferenceError?3:e instanceof SyntaxError?4:e instanceof TypeError?5:e instanceof URIError?6:0}function sr(e){let r=Je[W(e)];return e.name!==r?{name:e.name}:e.constructor.name!==r?{name:e.constructor.name}:{}}function he(e,r){let n=sr(e),a=Object.getOwnPropertyNames(e);for(let s=0,i=a.length,o;s<i;s++)o=a[s],o!=="name"&&o!=="message"&&(o==="stack"?r&4&&(n=n||{},n[o]=e[o]):(n=n||{},n[o]=e[o]));return n}function we(e){return Object.isFrozen(e)?3:Object.isSealed(e)?2:Object.isExtensible(e)?0:1}function ir(e){switch(e){case Number.POSITIVE_INFINITY:return er;case Number.NEGATIVE_INFINITY:return rr}return e!==e?tr:Object.is(e,-0)?Qe:l(0,t,e,t,t,t,t,t,t,t,t,t)}function be(e){return l(1,t,m(e),t,t,t,t,t,t,t,t,t)}function or(e){return l(3,t,""+e,t,t,t,t,t,t,t,t,t)}function ur(e){return l(4,e,t,t,t,t,t,t,t,t,t,t)}function cr(e,r){let n=r.valueOf();return l(5,e,n!==n?"":r.toISOString(),t,t,t,t,t,t,t,t,t)}function lr(e,r){return l(6,e,t,m(r.source),r.flags,t,t,t,t,t,t,t)}function fr(e,r){return l(17,e,le[r],t,t,t,t,t,t,t,t,t)}function pr(e,r){return l(18,e,m(ar(r)),t,t,t,t,t,t,t,t,t)}function dr(e,r,n){return l(25,e,n,m(r),t,t,t,t,t,t,t,t)}function yr(e,r,n){return l(9,e,t,t,t,t,t,n,t,t,we(r),t)}function hr(e,r){return l(21,e,t,t,t,t,t,t,r,t,t,t)}function wr(e,r,n){return l(15,e,t,r.constructor.name,t,t,t,t,n,r.byteOffset,t,r.length)}function br(e,r,n){return l(16,e,t,r.constructor.name,t,t,t,t,n,r.byteOffset,t,r.byteLength)}function gr(e,r,n){return l(20,e,t,t,t,t,t,t,n,r.byteOffset,t,r.byteLength)}function mr(e,r,n){return l(13,e,W(r),t,m(r.message),n,t,t,t,t,t,t)}function vr(e,r,n){return l(14,e,W(r),t,m(r.message),n,t,t,t,t,t,t)}function Er(e,r){return l(7,e,t,t,t,t,t,r,t,t,t,t)}function zr(e,r){return l(28,t,t,t,t,t,t,[e,r],t,t,t,t)}function Sr(e,r){return l(30,t,t,t,t,t,t,[e,r],t,t,t,t)}function Rr(e,r,n){return l(31,e,t,t,t,t,t,n,r,t,t,t)}function xr(e,r){return l(32,e,t,t,t,t,t,t,r,t,t,t)}function Ar(e,r){return l(33,e,t,t,t,t,t,t,r,t,t,t)}function Or(e,r){return l(34,e,t,t,t,t,t,t,r,t,t,t)}var Tr={parsing:1,serialization:2,deserialization:3};function Ir(e){return`Seroval Error (step: ${Tr[e]})`}var Pr=(e,r)=>Ir(e),Ur=class extends Error{constructor(e,r){super(Pr(e)),this.cause=r}},te=class extends Ur{constructor(e){super("parsing",e)}};function ge(e){return`Seroval Error (specific: ${e})`}var D=class extends Error{constructor(e){super(ge(1)),this.value=e}},$r=class extends Error{constructor(e){super(ge(5)),this.value=e}},Cr=class{constructor(r,n){this.value=r,this.replacement=n}},Fr=()=>{let e={p:0,s:0,f:0};return e.p=new Promise((r,n)=>{e.s=r,e.f=n}),e},_r=(e,r)=>{e.s(r),e.p.s=1,e.p.v=r},Lr=(e,r)=>{e.f(r),e.p.s=2,e.p.v=r};Fr.toString();_r.toString();Lr.toString();var jr=()=>{let e=[],r=[],n=!0,a=!1,s=0,i=(u,p,d)=>{for(d=0;d<s;d++)r[d]&&r[d][p](u)},o=(u,p,d,c)=>{for(p=0,d=e.length;p<d;p++)c=e[p],!n&&p===d-1?u[a?"return":"throw"](c):u.next(c)},f=(u,p)=>(n&&(p=s++,r[p]=u),o(u),()=>{n&&(r[p]=r[s],r[s--]=void 0)});return{__SEROVAL_STREAM__:!0,on:u=>f(u),next:u=>{n&&(e.push(u),i(u,"next"))},throw:u=>{n&&(e.push(u),i(u,"throw"),n=!1,a=!1,r.length=0)},return:u=>{n&&(e.push(u),i(u,"return"),n=!1,a=!0,r.length=0)}}},Dr=e=>{let r=atob(e),n=r.length,a=new Uint8Array(n);for(let s=0;s<n;s++)a[s]=r.charCodeAt(s);return a.buffer};Dr.toString();var Nr={},kr={},Br={0:{},1:{},2:{},3:{},4:{},5:{}};function Mr(e){return"__SEROVAL_STREAM__"in e}function J(){return jr()}function qr(e){let r=J(),n=e[S]();async function a(){try{let s=await n.next();s.done?r.return(s.value):(r.next(s.value),await a())}catch(s){r.throw(s)}}return a().catch(()=>{}),r}function Vr(e){let r=[],n=-1,a=-1,s=e[R]();for(;;)try{let i=s.next();if(r.push(i.value),i.done){a=r.length-1;break}}catch(i){n=r.length,r.push(i)}return{v:r,t:n,d:a}}async function Hr(e){try{return[1,await e]}catch(r){return[0,r]}}function Xr(e,r){return{plugins:r.plugins,mode:e,marked:new Set,features:63^(r.disabledFeatures||0),refs:r.refs||new Map,depthLimit:r.depthLimit||1e3}}function j(e,r){e.marked.add(r)}function Gr(e,r){let n=e.refs.size;return e.refs.set(r,n),n}function N(e,r){let n=e.refs.get(r);return n!=null?(j(e,n),{type:1,value:ur(n)}):{type:0,value:Gr(e,r)}}function K(e,r){let n=N(e,r);return n.type===1?n:ye(r)?{type:2,value:pr(n.value,r)}:n}function v(e,r){let n=K(e,r);if(n.type!==0)return n.value;if(r in le)return fr(n.value,r);throw new D(r)}function k(e,r){let n=N(e,Br[r]);return n.type===1?n.value:l(26,n.value,r,t,t,t,t,t,t,t,t,t)}function Yr(e){let r=N(e,Nr);return r.type===1?r.value:l(27,r.value,t,t,t,t,t,t,v(e,R),t,t,t)}function Wr(e){let r=N(e,kr);return r.type===1?r.value:l(29,r.value,t,t,t,t,t,[k(e,1),v(e,S)],t,t,t,t)}function Jr(e,r,n,a){return l(n?11:10,e,t,t,t,a,t,t,t,t,we(r),t)}function Kr(e,r,n,a){return l(8,r,t,t,t,t,{k:n,v:a},t,k(e,0),t,t,t)}function Zr(e,r,n){let a=new Uint8Array(n),s="";for(let i=0,o=a.length;i<o;i++)s+=String.fromCharCode(a[i]);return l(19,r,m(btoa(s)),t,t,t,t,t,k(e,5),t,t,t)}function Qr(e,r){return{base:Xr(e,r),child:void 0}}var et=class{constructor(e,r){this._p=e,this.depth=r}parse(e){return y(this._p,this.depth,e)}};async function rt(e,r,n){let a=[];for(let s=0,i=n.length;s<i;s++)s in n?a[s]=await y(e,r,n[s]):a[s]=0;return a}async function tt(e,r,n,a){return yr(n,a,await rt(e,r,a))}async function Z(e,r,n){let a=Object.entries(n),s=[],i=[];for(let o=0,f=a.length;o<f;o++)s.push(m(a[o][0])),i.push(await y(e,r,a[o][1]));return R in n&&(s.push(v(e.base,R)),i.push(zr(Yr(e.base),await y(e,r,Vr(n))))),S in n&&(s.push(v(e.base,S)),i.push(Sr(Wr(e.base),await y(e,r,qr(n))))),L in n&&(s.push(v(e.base,L)),i.push(be(n[L]))),_ in n&&(s.push(v(e.base,_)),i.push(n[_]?fe:pe)),{k:s,v:i}}async function q(e,r,n,a,s){return Jr(n,a,s,await Z(e,r,a))}async function nt(e,r,n,a){return hr(n,await y(e,r,a.valueOf()))}async function at(e,r,n,a){return wr(n,a,await y(e,r,a.buffer))}async function st(e,r,n,a){return br(n,a,await y(e,r,a.buffer))}async function it(e,r,n,a){return gr(n,a,await y(e,r,a.buffer))}async function ne(e,r,n,a){let s=he(a,e.base.features);return mr(n,a,s?await Z(e,r,s):t)}async function ot(e,r,n,a){let s=he(a,e.base.features);return vr(n,a,s?await Z(e,r,s):t)}async function ut(e,r,n,a){let s=[],i=[];for(let[o,f]of a.entries())s.push(await y(e,r,o)),i.push(await y(e,r,f));return Kr(e.base,n,s,i)}async function ct(e,r,n,a){let s=[];for(let i of a.keys())s.push(await y(e,r,i));return Er(n,s)}async function me(e,r,n,a){let s=e.base.plugins;if(s)for(let i=0,o=s.length;i<o;i++){let f=s[i];if(f.parse.async&&f.test(a))return dr(n,f.tag,await f.parse.async(a,new et(e,r),{id:n}))}return t}async function lt(e,r,n,a){let[s,i]=await Hr(a);return l(12,n,s,t,t,t,t,t,await y(e,r,i),t,t,t)}function ft(e,r,n,a,s){let i=[],o=n.on({next:f=>{j(this.base,r),y(this,e,f).then(u=>{i.push(xr(r,u))},u=>{s(u),o()})},throw:f=>{j(this.base,r),y(this,e,f).then(u=>{i.push(Ar(r,u)),a(i),o()},u=>{s(u),o()})},return:f=>{j(this.base,r),y(this,e,f).then(u=>{i.push(Or(r,u)),a(i),o()},u=>{s(u),o()})}})}async function pt(e,r,n,a){return Rr(n,k(e.base,4),await new Promise(ft.bind(e,r,n,a)))}async function dt(e,r,n,a){if(Array.isArray(a))return tt(e,r,n,a);if(Mr(a))return pt(e,r,n,a);let s=a.constructor;if(s===Cr)return y(e,r,a.replacement);let i=await me(e,r,n,a);if(i)return i;switch(s){case Object:return q(e,r,n,a,!1);case t:return q(e,r,n,a,!0);case Date:return cr(n,a);case Error:case EvalError:case RangeError:case ReferenceError:case SyntaxError:case TypeError:case URIError:return ne(e,r,n,a);case Number:case Boolean:case String:case BigInt:return nt(e,r,n,a);case ArrayBuffer:return Zr(e.base,n,a);case Int8Array:case Int16Array:case Int32Array:case Uint8Array:case Uint16Array:case Uint32Array:case Uint8ClampedArray:case Float32Array:case Float64Array:return at(e,r,n,a);case DataView:return it(e,r,n,a);case Map:return ut(e,r,n,a);case Set:return ct(e,r,n,a)}if(s===Promise||a instanceof Promise)return lt(e,r,n,a);let o=e.base.features;if(o&32&&s===RegExp)return lr(n,a);if(o&16)switch(s){case BigInt64Array:case BigUint64Array:return st(e,r,n,a)}if(o&1&&typeof AggregateError<"u"&&(s===AggregateError||a instanceof AggregateError))return ot(e,r,n,a);if(a instanceof Error)return ne(e,r,n,a);if(R in a||S in a)return q(e,r,n,a,!!s);throw new D(a)}async function yt(e,r,n){let a=K(e.base,n);if(a.type!==0)return a.value;let s=await me(e,r,a.value,n);if(s)return s;throw new D(n)}async function y(e,r,n){switch(typeof n){case"boolean":return n?fe:pe;case"undefined":return Ke;case"string":return be(n);case"number":return ir(n);case"bigint":return or(n);case"object":{if(n){let a=K(e.base,n);return a.type===0?await dt(e,r+1,a.value,n):a.value}return Ze}case"symbol":return v(e.base,n);case"function":return yt(e,r,n);default:throw new D(n)}}async function ht(e,r){try{return await y(e,0,r)}catch(n){throw n instanceof te?n:new te(n)}}var wt=(e=>(e[e.Vanilla=1]="Vanilla",e[e.Cross=2]="Cross",e))(wt||{});function ve(e,r){for(let n=0,a=r.length;n<a;n++){let s=r[n];e.has(s)||(e.add(s),s.extends&&ve(e,s.extends))}}function bt(e){if(e){let r=new Set;return ve(r,e),[...r]}}var gt=()=>T;gt.toString();function mt(e){return(0,eval)(e)}async function Ee(e,r={}){let n=bt(r.plugins),a=Qr(1,{plugins:n,disabledFeatures:r.disabledFeatures});return{t:await ht(a,e),f:a.base.features,m:Array.from(a.base.marked)}}function V(e){return{detail:e.detail,bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}}var vt={tag:"seroval-plugins/web/CustomEvent",test(e){return typeof CustomEvent>"u"?!1:e instanceof CustomEvent},parse:{sync(e,r){return{type:r.parse(e.type),options:r.parse(V(e))}},async async(e,r){return{type:await r.parse(e.type),options:await r.parse(V(e))}},stream(e,r){return{type:r.parse(e.type),options:r.parse(V(e))}}},serialize(e,r){return"new CustomEvent("+r.serialize(e.type)+","+r.serialize(e.options)+")"},deserialize(e,r){return new CustomEvent(r.deserialize(e.type),r.deserialize(e.options))}},Et=vt,zt={tag:"seroval-plugins/web/DOMException",test(e){return typeof DOMException>"u"?!1:e instanceof DOMException},parse:{sync(e,r){return{name:r.parse(e.name),message:r.parse(e.message)}},async async(e,r){return{name:await r.parse(e.name),message:await r.parse(e.message)}},stream(e,r){return{name:r.parse(e.name),message:r.parse(e.message)}}},serialize(e,r){return"new DOMException("+r.serialize(e.message)+","+r.serialize(e.name)+")"},deserialize(e,r){return new DOMException(r.deserialize(e.message),r.deserialize(e.name))}},St=zt;function H(e){return{bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}}var Rt={tag:"seroval-plugins/web/Event",test(e){return typeof Event>"u"?!1:e instanceof Event},parse:{sync(e,r){return{type:r.parse(e.type),options:r.parse(H(e))}},async async(e,r){return{type:await r.parse(e.type),options:await r.parse(H(e))}},stream(e,r){return{type:r.parse(e.type),options:r.parse(H(e))}}},serialize(e,r){return"new Event("+r.serialize(e.type)+","+r.serialize(e.options)+")"},deserialize(e,r){return new Event(r.deserialize(e.type),r.deserialize(e.options))}},xt=Rt,At={tag:"seroval-plugins/web/File",test(e){return typeof File>"u"?!1:e instanceof File},parse:{async async(e,r){return{name:await r.parse(e.name),options:await r.parse({type:e.type,lastModified:e.lastModified}),buffer:await r.parse(await e.arrayBuffer())}}},serialize(e,r){return"new File(["+r.serialize(e.buffer)+"],"+r.serialize(e.name)+","+r.serialize(e.options)+")"},deserialize(e,r){return new File([r.deserialize(e.buffer)],r.deserialize(e.name),r.deserialize(e.options))}},Ot=At;function X(e){let r=[];return e.forEach((n,a)=>{r.push([a,n])}),r}var x={},ze=(e,r=new FormData,n=0,a=e.length,s)=>{for(;n<a;n++)s=e[n],r.append(s[0],s[1]);return r},Tt={tag:"seroval-plugins/web/FormDataFactory",test(e){return e===x},parse:{sync(){},async async(){return await Promise.resolve(void 0)},stream(){}},serialize(){return ze.toString()},deserialize(){return x}},It={tag:"seroval-plugins/web/FormData",extends:[Ot,Tt],test(e){return typeof FormData>"u"?!1:e instanceof FormData},parse:{sync(e,r){return{factory:r.parse(x),entries:r.parse(X(e))}},async async(e,r){return{factory:await r.parse(x),entries:await r.parse(X(e))}},stream(e,r){return{factory:r.parse(x),entries:r.parse(X(e))}}},serialize(e,r){return"("+r.serialize(e.factory)+")("+r.serialize(e.entries)+")"},deserialize(e,r){return ze(r.deserialize(e.entries))}},Pt=It;function G(e){let r=[];return e.forEach((n,a)=>{r.push([a,n])}),r}var Ut={tag:"seroval-plugins/web/Headers",test(e){return typeof Headers>"u"?!1:e instanceof Headers},parse:{sync(e,r){return r.parse(G(e))},async async(e,r){return await r.parse(G(e))},stream(e,r){return r.parse(G(e))}},serialize(e,r){return"new Headers("+r.serialize(e)+")"},deserialize(e,r){return new Headers(r.deserialize(e))}},Q=Ut,A={},Se=e=>new ReadableStream({start:r=>{e.on({next:n=>{try{r.enqueue(n)}catch{}},throw:n=>{r.error(n)},return:()=>{try{r.close()}catch{}}})}}),$t={tag:"seroval-plugins/web/ReadableStreamFactory",test(e){return e===A},parse:{sync(){},async async(){return await Promise.resolve(void 0)},stream(){}},serialize(){return Se.toString()},deserialize(){return A}};function ae(e){let r=J(),n=e.getReader();async function a(){try{let s=await n.read();s.done?r.return(s.value):(r.next(s.value),await a())}catch(s){r.throw(s)}}return a().catch(()=>{}),r}var Ct={tag:"seroval/plugins/web/ReadableStream",extends:[$t],test(e){return typeof ReadableStream>"u"?!1:e instanceof ReadableStream},parse:{sync(e,r){return{factory:r.parse(A),stream:r.parse(J())}},async async(e,r){return{factory:await r.parse(A),stream:await r.parse(ae(e))}},stream(e,r){return{factory:r.parse(A),stream:r.parse(ae(e))}}},serialize(e,r){return"("+r.serialize(e.factory)+")("+r.serialize(e.stream)+")"},deserialize(e,r){let n=r.deserialize(e.stream);return Se(n)}},ee=Ct;function se(e,r){return{body:r,cache:e.cache,credentials:e.credentials,headers:e.headers,integrity:e.integrity,keepalive:e.keepalive,method:e.method,mode:e.mode,redirect:e.redirect,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var Ft={tag:"seroval-plugins/web/Request",extends:[ee,Q],test(e){return typeof Request>"u"?!1:e instanceof Request},parse:{async async(e,r){return{url:await r.parse(e.url),options:await r.parse(se(e,e.body&&!e.bodyUsed?await e.clone().arrayBuffer():null))}},stream(e,r){return{url:r.parse(e.url),options:r.parse(se(e,e.body&&!e.bodyUsed?e.clone().body:null))}}},serialize(e,r){return"new Request("+r.serialize(e.url)+","+r.serialize(e.options)+")"},deserialize(e,r){return new Request(r.deserialize(e.url),r.deserialize(e.options))}},_t=Ft;function ie(e){return{headers:e.headers,status:e.status,statusText:e.statusText}}var Lt={tag:"seroval-plugins/web/Response",extends:[ee,Q],test(e){return typeof Response>"u"?!1:e instanceof Response},parse:{async async(e,r){return{body:await r.parse(e.body&&!e.bodyUsed?await e.clone().arrayBuffer():null),options:await r.parse(ie(e))}},stream(e,r){return{body:r.parse(e.body&&!e.bodyUsed?e.clone().body:null),options:r.parse(ie(e))}}},serialize(e,r){return"new Response("+r.serialize(e.body)+","+r.serialize(e.options)+")"},deserialize(e,r){return new Response(r.deserialize(e.body),r.deserialize(e.options))}},jt=Lt,Dt={tag:"seroval-plugins/web/URL",test(e){return typeof URL>"u"?!1:e instanceof URL},parse:{sync(e,r){return r.parse(e.href)},async async(e,r){return await r.parse(e.href)},stream(e,r){return r.parse(e.href)}},serialize(e,r){return"new URL("+r.serialize(e)+")"},deserialize(e,r){return new URL(r.deserialize(e))}},Nt=Dt,kt={tag:"seroval-plugins/web/URLSearchParams",test(e){return typeof URLSearchParams>"u"?!1:e instanceof URLSearchParams},parse:{sync(e,r){return r.parse(e.toString())},async async(e,r){return await r.parse(e.toString())},stream(e,r){return r.parse(e.toString())}},serialize(e,r){return"new URLSearchParams("+r.serialize(e)+")"},deserialize(e,r){return new URLSearchParams(r.deserialize(e))}},Bt=kt;class Mt{reader;buffer;done;constructor(r){this.reader=r.getReader(),this.buffer=new Uint8Array(0),this.done=!1}async readChunk(){const r=await this.reader.read();if(r.done)this.done=!0;else{let n=new Uint8Array(this.buffer.length+r.value.length);n.set(this.buffer),n.set(r.value,this.buffer.length),this.buffer=n}}async next(){if(this.buffer.length===0)return this.done?{done:!0,value:void 0}:(await this.readChunk(),await this.next());const r=new TextDecoder().decode(this.buffer.subarray(1,11)),n=Number.parseInt(r,16);if(Number.isNaN(n))throw new Error(`Malformed server function stream header: ${r}`);for(;n>this.buffer.length-12;){if(this.done)throw new Error("Malformed server function stream.");await this.readChunk()}const a=new TextDecoder().decode(this.buffer.subarray(12,12+n));return this.buffer=this.buffer.subarray(12+n),{done:!1,value:mt(a)}}async drain(){for(;!(await this.next()).done;);}}async function oe(e,r){if(!r.body)throw new Error("missing body");const n=new Mt(r.body),a=await n.next();return a.done||n.drain().then(()=>{delete $R[e]},()=>{}),a.value}let qt=0;function C(e,r,n,a){return fetch(e,{method:"POST",...a,headers:{...a.headers,"X-Server-Id":r,"X-Server-Instance":n}})}const Re=[Et,St,xt,Pt,Q,ee,_t,jt,Bt,Nt];async function ue(e,r,n,a){const s=`server-fn:${qt++}`,i=await(a.length===0?C(e,r,s,n):a.length===1&&a[0]instanceof FormData?C(e,r,s,{...n,body:a[0]}):a.length===1&&a[0]instanceof URLSearchParams?C(e,r,s,{...n,body:a[0],headers:{...n.headers,"Content-Type":"application/x-www-form-urlencoded"}}):C(e,r,s,{...n,body:JSON.stringify(await Promise.resolve(Ee(a,{plugins:Re}))),headers:{...n.headers,"Content-Type":"application/json"}}));if(i.headers.has("Location")||i.headers.has("X-Revalidate")||i.headers.has("X-Single-Flight"))return i.body&&(i.customBody=()=>oe(s,i)),i;const o=i.headers.get("Content-Type");let f;if(o&&o.startsWith("text/plain")?f=await i.text():o&&o.startsWith("application/json")?f=await i.json():f=await oe(s,i),i.headers.has("X-Error"))throw f;return f}function Vt(e,r,n){const a="/blog/";return new Proxy(e,{get(s,i,o){if(i==="url")return`${a}/_server?id=${encodeURIComponent(r)}&name=${encodeURIComponent(n)}`;if(i==="GET")return o.withOptions({method:"GET"});if(i==="withOptions"){const f=`${a}/_server/?id=${encodeURIComponent(r)}&name=${encodeURIComponent(n)}`;return u=>{const p=async(...d)=>{const c=u.method&&u.method.toUpperCase()==="GET";return ue(c?f+(d.length?`&args=${encodeURIComponent(JSON.stringify(await Promise.resolve(Ee(d,{plugins:Re}))))}`:""):`${a}/_server`,`${r}#${n}`,u,c?[]:d)};return p.url=f,p}}return s[i]},apply(s,i,o){return ue(`${a}/_server`,`${r}#${n}`,{},o)}})}const Ht=Vt(()=>{},"src_lib_posts_ts--getPosts_query","/home/runner/work/blog/blog/src/lib/posts.ts?tsr-directive-use-server="),Wt=I(Ht,"posts");export{Gt as c,Wt as g};
