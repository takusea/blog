import{N as xe,O as Ae,l as Te,n as C,g as Ue,k as le,P as V,h as Ie,Q as Pe,T as Fe,U as $e,V as Ce,u as Le}from"./routing-C8P4_N4P.js";const _e="Location",je=5e3,ke=18e4;let W=new Map;setInterval(()=>{const e=Date.now();for(let[r,n]of W.entries())!n[4].count&&e-n[0]>ke&&W.delete(r)},3e5);function A(){return W}function U(e,r){e.GET&&(e=e.GET);const n=(...a)=>{const s=A(),i=Ue(),o=Fe(),u=Ie()?xe():void 0,p=Date.now(),d=r+te(a);let c=s.get(d),B;if(Ae()&&!Pe&&(B=!0,Te(()=>c[4].count--)),c&&c[0]&&(i==="native"||c[4].count||Date.now()-c[0]<je)){B&&(c[4].count++,c[4][0]()),c[3]==="preload"&&i!=="preload"&&(c[0]=p);let S=c[1];return i!=="preload"&&(S="then"in c[1]?c[1].then(E(!1),E(!0)):E(!1)(c[1]),i==="navigate"&&V(()=>c[4][1](c[0]))),o&&"then"in S&&S.catch(()=>{}),S}let w;return C.has&&C.has(d)?(w=C.load(d),delete globalThis._$HY.r[d]):w=e(...a),c?(c[0]=p,c[1]=w,c[3]=i,i==="navigate"&&V(()=>c[4][1](c[0]))):(s.set(d,c=[p,w,,i,le(p)]),c[4].count=0),B&&(c[4].count++,c[4][0]()),i!=="preload"&&(w="then"in w?w.then(E(!1),E(!0)):E(!1)(w)),o&&"then"in w&&w.catch(()=>{}),w;function E(S){return async b=>{if(b instanceof Response){const I=b.headers.get(_e);if(I!==null){u&&I.startsWith("/")?V(()=>{u(I,{replace:!0})}):window.location.href=I;return}b.customBody&&(b=await b.customBody())}if(S)throw b;return c[2]=b,b}}};return n.keyFor=(...a)=>r+te(a),n.key=r,n}U.get=e=>A().get(e)[2];U.set=(e,r)=>{const n=A(),a=Date.now();let s=n.get(e);s?(s[0]=a,s[1]=Promise.resolve(r),s[2]=r,s[3]="preload"):(n.set(e,s=[a,Promise.resolve(r),r,"preload",le(a)]),s[4].count=0)};U.delete=e=>A().delete(e);U.clear=()=>A().clear();function te(e){return JSON.stringify(e,(r,n)=>Ne(n)?Object.keys(n).sort().reduce((a,s)=>(a[s]=n[s],a),{}):n)}function Ne(e){let r;return e!=null&&typeof e=="object"&&(!(r=Object.getPrototypeOf(e))||r===Object.prototype)}function Kt(e,r){let n,a=()=>!n||n.state==="unresolved"?void 0:n.latest;[n]=$e(()=>De(e,Ce(()=>Le(a),()=>{})),i=>i);const s=()=>n();return Object.defineProperty(s,"latest",{get(){return n.latest}}),s}class h{static all(){return new h}static allSettled(){return new h}static any(){return new h}static race(){return new h}static reject(){return new h}static resolve(){return new h}catch(){return new h}then(){return new h}finally(){return new h}}function De(e,r){if(!C.context)return e(r);const n=fetch,a=Promise;try{return window.fetch=()=>new h,Promise=h,e(r)}finally{window.fetch=n,Promise=a}}const L={},Me=(e,r)=>L.readdirSync(e,{withFileTypes:!0}).filter(n=>n.isFile()&&n.name.endsWith(`.${r}`)).map(n=>L.join(e,n.name)).map(n=>L.readFileSync(n,"utf-8"));var Be=(e=>(e[e.AggregateError=1]="AggregateError",e[e.ArrowFunction=2]="ArrowFunction",e[e.ErrorPrototypeStack=4]="ErrorPrototypeStack",e[e.ObjectAssign=8]="ObjectAssign",e[e.BigIntTypedArray=16]="BigIntTypedArray",e[e.RegExp=32]="RegExp",e))(Be||{}),z=Symbol.asyncIterator,Ve=Symbol.hasInstance,_=Symbol.isConcatSpreadable,R=Symbol.iterator,qe=Symbol.match,He=Symbol.matchAll,Ge=Symbol.replace,Xe=Symbol.search,Je=Symbol.species,We=Symbol.split,Ye=Symbol.toPrimitive,j=Symbol.toStringTag,Ke=Symbol.unscopables,fe={[z]:0,[Ve]:1,[_]:2,[R]:3,[qe]:4,[He]:5,[Ge]:6,[Xe]:7,[Je]:8,[We]:9,[Ye]:10,[j]:11,[Ke]:12},t=void 0,Qe={0:"Error",1:"EvalError",2:"RangeError",3:"ReferenceError",4:"SyntaxError",5:"TypeError",6:"URIError"};function l(e,r,n,a,s,i,o,f,u,p,d,c){return{t:e,i:r,s:n,c:a,m:s,p:i,e:o,a:f,f:u,b:p,o:d,l:c}}function m(e){return l(2,t,e,t,t,t,t,t,t,t,t,t)}var pe=m(2),de=m(3),Ze=m(1),er=m(0),rr=m(4),tr=m(5),nr=m(6),ar=m(7);function sr(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"\b":return"\\b";case"	":return"\\t";case"\f":return"\\f";case"<":return"\\x3C";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return t}}function g(e){let r="",n=0,a;for(let s=0,i=e.length;s<i;s++)a=sr(e[s]),a&&(r+=e.slice(n,s)+a,n=s+1);return n===0?r=e:r+=e.slice(n),r}var P="__SEROVAL_REFS__",ye=new Map,F=new Map;function he(e){return ye.has(e)}function ir(e){if(he(e))return ye.get(e);throw new Cr(e)}typeof globalThis<"u"?Object.defineProperty(globalThis,P,{value:F,configurable:!0,writable:!1,enumerable:!1}):typeof window<"u"?Object.defineProperty(window,P,{value:F,configurable:!0,writable:!1,enumerable:!1}):typeof self<"u"?Object.defineProperty(self,P,{value:F,configurable:!0,writable:!1,enumerable:!1}):typeof global<"u"&&Object.defineProperty(global,P,{value:F,configurable:!0,writable:!1,enumerable:!1});function Y(e){return e instanceof EvalError?1:e instanceof RangeError?2:e instanceof ReferenceError?3:e instanceof SyntaxError?4:e instanceof TypeError?5:e instanceof URIError?6:0}function or(e){let r=Qe[Y(e)];return e.name!==r?{name:e.name}:e.constructor.name!==r?{name:e.constructor.name}:{}}function we(e,r){let n=or(e),a=Object.getOwnPropertyNames(e);for(let s=0,i=a.length,o;s<i;s++)o=a[s],o!=="name"&&o!=="message"&&(o==="stack"?r&4&&(n=n||{},n[o]=e[o]):(n=n||{},n[o]=e[o]));return n}function be(e){return Object.isFrozen(e)?3:Object.isSealed(e)?2:Object.isExtensible(e)?0:1}function ur(e){switch(e){case Number.POSITIVE_INFINITY:return tr;case Number.NEGATIVE_INFINITY:return nr}return e!==e?ar:Object.is(e,-0)?rr:l(0,t,e,t,t,t,t,t,t,t,t,t)}function me(e){return l(1,t,g(e),t,t,t,t,t,t,t,t,t)}function cr(e){return l(3,t,""+e,t,t,t,t,t,t,t,t,t)}function lr(e){return l(4,e,t,t,t,t,t,t,t,t,t,t)}function fr(e,r){let n=r.valueOf();return l(5,e,n!==n?"":r.toISOString(),t,t,t,t,t,t,t,t,t)}function pr(e,r){return l(6,e,t,g(r.source),r.flags,t,t,t,t,t,t,t)}function dr(e,r){return l(17,e,fe[r],t,t,t,t,t,t,t,t,t)}function yr(e,r){return l(18,e,g(ir(r)),t,t,t,t,t,t,t,t,t)}function hr(e,r,n){return l(25,e,n,g(r),t,t,t,t,t,t,t,t)}function wr(e,r,n){return l(9,e,t,t,t,t,t,n,t,t,be(r),t)}function br(e,r){return l(21,e,t,t,t,t,t,t,r,t,t,t)}function mr(e,r,n){return l(15,e,t,r.constructor.name,t,t,t,t,n,r.byteOffset,t,r.length)}function gr(e,r,n){return l(16,e,t,r.constructor.name,t,t,t,t,n,r.byteOffset,t,r.byteLength)}function vr(e,r,n){return l(20,e,t,t,t,t,t,t,n,r.byteOffset,t,r.byteLength)}function Er(e,r,n){return l(13,e,Y(r),t,g(r.message),n,t,t,t,t,t,t)}function Sr(e,r,n){return l(14,e,Y(r),t,g(r.message),n,t,t,t,t,t,t)}function zr(e,r){return l(7,e,t,t,t,t,t,r,t,t,t,t)}function Rr(e,r){return l(28,t,t,t,t,t,t,[e,r],t,t,t,t)}function Or(e,r){return l(30,t,t,t,t,t,t,[e,r],t,t,t,t)}function xr(e,r,n){return l(31,e,t,t,t,t,t,n,r,t,t,t)}function Ar(e,r){return l(32,e,t,t,t,t,t,t,r,t,t,t)}function Tr(e,r){return l(33,e,t,t,t,t,t,t,r,t,t,t)}function Ur(e,r){return l(34,e,t,t,t,t,t,t,r,t,t,t)}var Ir={parsing:1,serialization:2,deserialization:3};function Pr(e){return`Seroval Error (step: ${Ir[e]})`}var Fr=(e,r)=>Pr(e),$r=class extends Error{constructor(e,r){super(Fr(e)),this.cause=r}},ne=class extends $r{constructor(e){super("parsing",e)}};function ge(e){return`Seroval Error (specific: ${e})`}var N=class extends Error{constructor(e){super(ge(1)),this.value=e}},Cr=class extends Error{constructor(e){super(ge(5)),this.value=e}},Lr=class{constructor(r,n){this.value=r,this.replacement=n}},_r=()=>{let e={p:0,s:0,f:0};return e.p=new Promise((r,n)=>{e.s=r,e.f=n}),e},jr=(e,r)=>{e.s(r),e.p.s=1,e.p.v=r},kr=(e,r)=>{e.f(r),e.p.s=2,e.p.v=r};_r.toString();jr.toString();kr.toString();var Nr=()=>{let e=[],r=[],n=!0,a=!1,s=0,i=(u,p,d)=>{for(d=0;d<s;d++)r[d]&&r[d][p](u)},o=(u,p,d,c)=>{for(p=0,d=e.length;p<d;p++)c=e[p],!n&&p===d-1?u[a?"return":"throw"](c):u.next(c)},f=(u,p)=>(n&&(p=s++,r[p]=u),o(u),()=>{n&&(r[p]=r[s],r[s--]=void 0)});return{__SEROVAL_STREAM__:!0,on:u=>f(u),next:u=>{n&&(e.push(u),i(u,"next"))},throw:u=>{n&&(e.push(u),i(u,"throw"),n=!1,a=!1,r.length=0)},return:u=>{n&&(e.push(u),i(u,"return"),n=!1,a=!0,r.length=0)}}},Dr=e=>{let r=atob(e),n=r.length,a=new Uint8Array(n);for(let s=0;s<n;s++)a[s]=r.charCodeAt(s);return a.buffer};Dr.toString();var Mr={},Br={},Vr={0:{},1:{},2:{},3:{},4:{},5:{}};function qr(e){return"__SEROVAL_STREAM__"in e}function K(){return Nr()}function Hr(e){let r=K(),n=e[z]();async function a(){try{let s=await n.next();s.done?r.return(s.value):(r.next(s.value),await a())}catch(s){r.throw(s)}}return a().catch(()=>{}),r}function Gr(e){let r=[],n=-1,a=-1,s=e[R]();for(;;)try{let i=s.next();if(r.push(i.value),i.done){a=r.length-1;break}}catch(i){n=r.length,r.push(i)}return{v:r,t:n,d:a}}async function Xr(e){try{return[1,await e]}catch(r){return[0,r]}}function Jr(e,r){return{plugins:r.plugins,mode:e,marked:new Set,features:63^(r.disabledFeatures||0),refs:r.refs||new Map,depthLimit:r.depthLimit||1e3}}function k(e,r){e.marked.add(r)}function Wr(e,r){let n=e.refs.size;return e.refs.set(r,n),n}function D(e,r){let n=e.refs.get(r);return n!=null?(k(e,n),{type:1,value:lr(n)}):{type:0,value:Wr(e,r)}}function Q(e,r){let n=D(e,r);return n.type===1?n:he(r)?{type:2,value:yr(n.value,r)}:n}function v(e,r){let n=Q(e,r);if(n.type!==0)return n.value;if(r in fe)return dr(n.value,r);throw new N(r)}function M(e,r){let n=D(e,Vr[r]);return n.type===1?n.value:l(26,n.value,r,t,t,t,t,t,t,t,t,t)}function Yr(e){let r=D(e,Mr);return r.type===1?r.value:l(27,r.value,t,t,t,t,t,t,v(e,R),t,t,t)}function Kr(e){let r=D(e,Br);return r.type===1?r.value:l(29,r.value,t,t,t,t,t,[M(e,1),v(e,z)],t,t,t,t)}function Qr(e,r,n,a){return l(n?11:10,e,t,t,t,a,t,t,t,t,be(r),t)}function Zr(e,r,n,a){return l(8,r,t,t,t,t,{k:n,v:a},t,M(e,0),t,t,t)}function et(e,r,n){let a=new Uint8Array(n),s="";for(let i=0,o=a.length;i<o;i++)s+=String.fromCharCode(a[i]);return l(19,r,g(btoa(s)),t,t,t,t,t,M(e,5),t,t,t)}function rt(e,r){return{base:Jr(e,r),child:void 0}}var tt=class{constructor(e,r){this._p=e,this.depth=r}parse(e){return y(this._p,this.depth,e)}};async function nt(e,r,n){let a=[];for(let s=0,i=n.length;s<i;s++)s in n?a[s]=await y(e,r,n[s]):a[s]=0;return a}async function at(e,r,n,a){return wr(n,a,await nt(e,r,a))}async function Z(e,r,n){let a=Object.entries(n),s=[],i=[];for(let o=0,f=a.length;o<f;o++)s.push(g(a[o][0])),i.push(await y(e,r,a[o][1]));return R in n&&(s.push(v(e.base,R)),i.push(Rr(Yr(e.base),await y(e,r,Gr(n))))),z in n&&(s.push(v(e.base,z)),i.push(Or(Kr(e.base),await y(e,r,Hr(n))))),j in n&&(s.push(v(e.base,j)),i.push(me(n[j]))),_ in n&&(s.push(v(e.base,_)),i.push(n[_]?pe:de)),{k:s,v:i}}async function q(e,r,n,a,s){return Qr(n,a,s,await Z(e,r,a))}async function st(e,r,n,a){return br(n,await y(e,r,a.valueOf()))}async function it(e,r,n,a){return mr(n,a,await y(e,r,a.buffer))}async function ot(e,r,n,a){return gr(n,a,await y(e,r,a.buffer))}async function ut(e,r,n,a){return vr(n,a,await y(e,r,a.buffer))}async function ae(e,r,n,a){let s=we(a,e.base.features);return Er(n,a,s?await Z(e,r,s):t)}async function ct(e,r,n,a){let s=we(a,e.base.features);return Sr(n,a,s?await Z(e,r,s):t)}async function lt(e,r,n,a){let s=[],i=[];for(let[o,f]of a.entries())s.push(await y(e,r,o)),i.push(await y(e,r,f));return Zr(e.base,n,s,i)}async function ft(e,r,n,a){let s=[];for(let i of a.keys())s.push(await y(e,r,i));return zr(n,s)}async function ve(e,r,n,a){let s=e.base.plugins;if(s)for(let i=0,o=s.length;i<o;i++){let f=s[i];if(f.parse.async&&f.test(a))return hr(n,f.tag,await f.parse.async(a,new tt(e,r),{id:n}))}return t}async function pt(e,r,n,a){let[s,i]=await Xr(a);return l(12,n,s,t,t,t,t,t,await y(e,r,i),t,t,t)}function dt(e,r,n,a,s){let i=[],o=n.on({next:f=>{k(this.base,r),y(this,e,f).then(u=>{i.push(Ar(r,u))},u=>{s(u),o()})},throw:f=>{k(this.base,r),y(this,e,f).then(u=>{i.push(Tr(r,u)),a(i),o()},u=>{s(u),o()})},return:f=>{k(this.base,r),y(this,e,f).then(u=>{i.push(Ur(r,u)),a(i),o()},u=>{s(u),o()})}})}async function yt(e,r,n,a){return xr(n,M(e.base,4),await new Promise(dt.bind(e,r,n,a)))}async function ht(e,r,n,a){if(Array.isArray(a))return at(e,r,n,a);if(qr(a))return yt(e,r,n,a);let s=a.constructor;if(s===Lr)return y(e,r,a.replacement);let i=await ve(e,r,n,a);if(i)return i;switch(s){case Object:return q(e,r,n,a,!1);case t:return q(e,r,n,a,!0);case Date:return fr(n,a);case Error:case EvalError:case RangeError:case ReferenceError:case SyntaxError:case TypeError:case URIError:return ae(e,r,n,a);case Number:case Boolean:case String:case BigInt:return st(e,r,n,a);case ArrayBuffer:return et(e.base,n,a);case Int8Array:case Int16Array:case Int32Array:case Uint8Array:case Uint16Array:case Uint32Array:case Uint8ClampedArray:case Float32Array:case Float64Array:return it(e,r,n,a);case DataView:return ut(e,r,n,a);case Map:return lt(e,r,n,a);case Set:return ft(e,r,n,a)}if(s===Promise||a instanceof Promise)return pt(e,r,n,a);let o=e.base.features;if(o&32&&s===RegExp)return pr(n,a);if(o&16)switch(s){case BigInt64Array:case BigUint64Array:return ot(e,r,n,a)}if(o&1&&typeof AggregateError<"u"&&(s===AggregateError||a instanceof AggregateError))return ct(e,r,n,a);if(a instanceof Error)return ae(e,r,n,a);if(R in a||z in a)return q(e,r,n,a,!!s);throw new N(a)}async function wt(e,r,n){let a=Q(e.base,n);if(a.type!==0)return a.value;let s=await ve(e,r,a.value,n);if(s)return s;throw new N(n)}async function y(e,r,n){switch(typeof n){case"boolean":return n?pe:de;case"undefined":return Ze;case"string":return me(n);case"number":return ur(n);case"bigint":return cr(n);case"object":{if(n){let a=Q(e.base,n);return a.type===0?await ht(e,r+1,a.value,n):a.value}return er}case"symbol":return v(e.base,n);case"function":return wt(e,r,n);default:throw new N(n)}}async function bt(e,r){try{return await y(e,0,r)}catch(n){throw n instanceof ne?n:new ne(n)}}var mt=(e=>(e[e.Vanilla=1]="Vanilla",e[e.Cross=2]="Cross",e))(mt||{});function Ee(e,r){for(let n=0,a=r.length;n<a;n++){let s=r[n];e.has(s)||(e.add(s),s.extends&&Ee(e,s.extends))}}function gt(e){if(e){let r=new Set;return Ee(r,e),[...r]}}var vt=()=>T;vt.toString();function Et(e){return(0,eval)(e)}async function Se(e,r={}){let n=gt(r.plugins),a=rt(1,{plugins:n,disabledFeatures:r.disabledFeatures});return{t:await bt(a,e),f:a.base.features,m:Array.from(a.base.marked)}}function H(e){return{detail:e.detail,bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}}var St={tag:"seroval-plugins/web/CustomEvent",test(e){return typeof CustomEvent>"u"?!1:e instanceof CustomEvent},parse:{sync(e,r){return{type:r.parse(e.type),options:r.parse(H(e))}},async async(e,r){return{type:await r.parse(e.type),options:await r.parse(H(e))}},stream(e,r){return{type:r.parse(e.type),options:r.parse(H(e))}}},serialize(e,r){return"new CustomEvent("+r.serialize(e.type)+","+r.serialize(e.options)+")"},deserialize(e,r){return new CustomEvent(r.deserialize(e.type),r.deserialize(e.options))}},zt=St,Rt={tag:"seroval-plugins/web/DOMException",test(e){return typeof DOMException>"u"?!1:e instanceof DOMException},parse:{sync(e,r){return{name:r.parse(e.name),message:r.parse(e.message)}},async async(e,r){return{name:await r.parse(e.name),message:await r.parse(e.message)}},stream(e,r){return{name:r.parse(e.name),message:r.parse(e.message)}}},serialize(e,r){return"new DOMException("+r.serialize(e.message)+","+r.serialize(e.name)+")"},deserialize(e,r){return new DOMException(r.deserialize(e.message),r.deserialize(e.name))}},Ot=Rt;function G(e){return{bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}}var xt={tag:"seroval-plugins/web/Event",test(e){return typeof Event>"u"?!1:e instanceof Event},parse:{sync(e,r){return{type:r.parse(e.type),options:r.parse(G(e))}},async async(e,r){return{type:await r.parse(e.type),options:await r.parse(G(e))}},stream(e,r){return{type:r.parse(e.type),options:r.parse(G(e))}}},serialize(e,r){return"new Event("+r.serialize(e.type)+","+r.serialize(e.options)+")"},deserialize(e,r){return new Event(r.deserialize(e.type),r.deserialize(e.options))}},At=xt,Tt={tag:"seroval-plugins/web/File",test(e){return typeof File>"u"?!1:e instanceof File},parse:{async async(e,r){return{name:await r.parse(e.name),options:await r.parse({type:e.type,lastModified:e.lastModified}),buffer:await r.parse(await e.arrayBuffer())}}},serialize(e,r){return"new File(["+r.serialize(e.buffer)+"],"+r.serialize(e.name)+","+r.serialize(e.options)+")"},deserialize(e,r){return new File([r.deserialize(e.buffer)],r.deserialize(e.name),r.deserialize(e.options))}},Ut=Tt;function X(e){let r=[];return e.forEach((n,a)=>{r.push([a,n])}),r}var O={},ze=(e,r=new FormData,n=0,a=e.length,s)=>{for(;n<a;n++)s=e[n],r.append(s[0],s[1]);return r},It={tag:"seroval-plugins/web/FormDataFactory",test(e){return e===O},parse:{sync(){},async async(){return await Promise.resolve(void 0)},stream(){}},serialize(){return ze.toString()},deserialize(){return O}},Pt={tag:"seroval-plugins/web/FormData",extends:[Ut,It],test(e){return typeof FormData>"u"?!1:e instanceof FormData},parse:{sync(e,r){return{factory:r.parse(O),entries:r.parse(X(e))}},async async(e,r){return{factory:await r.parse(O),entries:await r.parse(X(e))}},stream(e,r){return{factory:r.parse(O),entries:r.parse(X(e))}}},serialize(e,r){return"("+r.serialize(e.factory)+")("+r.serialize(e.entries)+")"},deserialize(e,r){return ze(r.deserialize(e.entries))}},Ft=Pt;function J(e){let r=[];return e.forEach((n,a)=>{r.push([a,n])}),r}var $t={tag:"seroval-plugins/web/Headers",test(e){return typeof Headers>"u"?!1:e instanceof Headers},parse:{sync(e,r){return r.parse(J(e))},async async(e,r){return await r.parse(J(e))},stream(e,r){return r.parse(J(e))}},serialize(e,r){return"new Headers("+r.serialize(e)+")"},deserialize(e,r){return new Headers(r.deserialize(e))}},ee=$t,x={},Re=e=>new ReadableStream({start:r=>{e.on({next:n=>{try{r.enqueue(n)}catch{}},throw:n=>{r.error(n)},return:()=>{try{r.close()}catch{}}})}}),Ct={tag:"seroval-plugins/web/ReadableStreamFactory",test(e){return e===x},parse:{sync(){},async async(){return await Promise.resolve(void 0)},stream(){}},serialize(){return Re.toString()},deserialize(){return x}};function se(e){let r=K(),n=e.getReader();async function a(){try{let s=await n.read();s.done?r.return(s.value):(r.next(s.value),await a())}catch(s){r.throw(s)}}return a().catch(()=>{}),r}var Lt={tag:"seroval/plugins/web/ReadableStream",extends:[Ct],test(e){return typeof ReadableStream>"u"?!1:e instanceof ReadableStream},parse:{sync(e,r){return{factory:r.parse(x),stream:r.parse(K())}},async async(e,r){return{factory:await r.parse(x),stream:await r.parse(se(e))}},stream(e,r){return{factory:r.parse(x),stream:r.parse(se(e))}}},serialize(e,r){return"("+r.serialize(e.factory)+")("+r.serialize(e.stream)+")"},deserialize(e,r){let n=r.deserialize(e.stream);return Re(n)}},re=Lt;function ie(e,r){return{body:r,cache:e.cache,credentials:e.credentials,headers:e.headers,integrity:e.integrity,keepalive:e.keepalive,method:e.method,mode:e.mode,redirect:e.redirect,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var _t={tag:"seroval-plugins/web/Request",extends:[re,ee],test(e){return typeof Request>"u"?!1:e instanceof Request},parse:{async async(e,r){return{url:await r.parse(e.url),options:await r.parse(ie(e,e.body&&!e.bodyUsed?await e.clone().arrayBuffer():null))}},stream(e,r){return{url:r.parse(e.url),options:r.parse(ie(e,e.body&&!e.bodyUsed?e.clone().body:null))}}},serialize(e,r){return"new Request("+r.serialize(e.url)+","+r.serialize(e.options)+")"},deserialize(e,r){return new Request(r.deserialize(e.url),r.deserialize(e.options))}},jt=_t;function oe(e){return{headers:e.headers,status:e.status,statusText:e.statusText}}var kt={tag:"seroval-plugins/web/Response",extends:[re,ee],test(e){return typeof Response>"u"?!1:e instanceof Response},parse:{async async(e,r){return{body:await r.parse(e.body&&!e.bodyUsed?await e.clone().arrayBuffer():null),options:await r.parse(oe(e))}},stream(e,r){return{body:r.parse(e.body&&!e.bodyUsed?e.clone().body:null),options:r.parse(oe(e))}}},serialize(e,r){return"new Response("+r.serialize(e.body)+","+r.serialize(e.options)+")"},deserialize(e,r){return new Response(r.deserialize(e.body),r.deserialize(e.options))}},Nt=kt,Dt={tag:"seroval-plugins/web/URL",test(e){return typeof URL>"u"?!1:e instanceof URL},parse:{sync(e,r){return r.parse(e.href)},async async(e,r){return await r.parse(e.href)},stream(e,r){return r.parse(e.href)}},serialize(e,r){return"new URL("+r.serialize(e)+")"},deserialize(e,r){return new URL(r.deserialize(e))}},Mt=Dt,Bt={tag:"seroval-plugins/web/URLSearchParams",test(e){return typeof URLSearchParams>"u"?!1:e instanceof URLSearchParams},parse:{sync(e,r){return r.parse(e.toString())},async async(e,r){return await r.parse(e.toString())},stream(e,r){return r.parse(e.toString())}},serialize(e,r){return"new URLSearchParams("+r.serialize(e)+")"},deserialize(e,r){return new URLSearchParams(r.deserialize(e))}},Vt=Bt;class qt{reader;buffer;done;constructor(r){this.reader=r.getReader(),this.buffer=new Uint8Array(0),this.done=!1}async readChunk(){const r=await this.reader.read();if(r.done)this.done=!0;else{let n=new Uint8Array(this.buffer.length+r.value.length);n.set(this.buffer),n.set(r.value,this.buffer.length),this.buffer=n}}async next(){if(this.buffer.length===0)return this.done?{done:!0,value:void 0}:(await this.readChunk(),await this.next());const r=new TextDecoder().decode(this.buffer.subarray(1,11)),n=Number.parseInt(r,16);if(Number.isNaN(n))throw new Error(`Malformed server function stream header: ${r}`);for(;n>this.buffer.length-12;){if(this.done)throw new Error("Malformed server function stream.");await this.readChunk()}const a=new TextDecoder().decode(this.buffer.subarray(12,12+n));return this.buffer=this.buffer.subarray(12+n),{done:!1,value:Et(a)}}async drain(){for(;!(await this.next()).done;);}}async function ue(e,r){if(!r.body)throw new Error("missing body");const n=new qt(r.body),a=await n.next();return a.done||n.drain().then(()=>{delete $R[e]},()=>{}),a.value}let Ht=0;function $(e,r,n,a){return fetch(e,{method:"POST",...a,headers:{...a.headers,"X-Server-Id":r,"X-Server-Instance":n}})}const Oe=[zt,Ot,At,Ft,ee,re,jt,Nt,Vt,Mt];async function ce(e,r,n,a){const s=`server-fn:${Ht++}`,i=await(a.length===0?$(e,r,s,n):a.length===1&&a[0]instanceof FormData?$(e,r,s,{...n,body:a[0]}):a.length===1&&a[0]instanceof URLSearchParams?$(e,r,s,{...n,body:a[0],headers:{...n.headers,"Content-Type":"application/x-www-form-urlencoded"}}):$(e,r,s,{...n,body:JSON.stringify(await Promise.resolve(Se(a,{plugins:Oe}))),headers:{...n.headers,"Content-Type":"application/json"}}));if(i.headers.has("Location")||i.headers.has("X-Revalidate")||i.headers.has("X-Single-Flight"))return i.body&&(i.customBody=()=>ue(s,i)),i;const o=i.headers.get("Content-Type");let f;if(o&&o.startsWith("text/plain")?f=await i.text():o&&o.startsWith("application/json")?f=await i.json():f=await ue(s,i),i.headers.has("X-Error"))throw f;return f}function Gt(e,r,n){return new Proxy(e,{get(s,i,o){if(i==="url")return`/_server?id=${encodeURIComponent(r)}&name=${encodeURIComponent(n)}`;if(i==="GET")return o.withOptions({method:"GET"});if(i==="withOptions"){const f=`/_server/?id=${encodeURIComponent(r)}&name=${encodeURIComponent(n)}`;return u=>{const p=async(...d)=>{const c=u.method&&u.method.toUpperCase()==="GET";return ce(c?f+(d.length?`&args=${encodeURIComponent(JSON.stringify(await Promise.resolve(Se(d,{plugins:Oe}))))}`:""):"/_server",`${r}#${n}`,u,c?[]:d)};return p.url=f,p}}return s[i]},apply(s,i,o){return ce("/_server",`${r}#${n}`,{},o)}})}const Xt=Gt(()=>{},"src_lib_markdown_ts--parseMarkdown_1","/home/runner/work/blog/blog/src/lib/markdown.ts?tsr-directive-use-server="),Jt=Xt,Wt=L.join(process.cwd(),"posts"),Zt=U(async()=>{const e=Me(Wt,"md").map(Jt);return(await Promise.all(e)).map(r=>JSON.stringify(r)).map(r=>JSON.parse(r))},"posts");export{Kt as c,Zt as g};
